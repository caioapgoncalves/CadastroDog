<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8" />
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Cachorros</title>
    <!-- Bootstrap 5 -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        function confirmDelete(event) {
            if (!confirm("Voc√™ tem certeza de que deseja excluir este cadastro?")) {
                event.preventDefault(); // Impede a navega√ß√£o se a confirma√ß√£o for cancelada
            }
        }
    </script>


</head>
<body>
<div class="container my-5">
    <div class="card shadow-sm">
        <!--falta colocar o fundo aqui e no cachorroAdd -->
        <div class="card-header bg-primary text-white" style="background-image: url('https://i.pinimg.com/736x/8a/50/5a/8a505abb6ecf67ed305acdd752169708.jpg'); background-size: cover; background-position: center; padding: 70px; border-radius: 10px; position: relative;">>

            <strong>üêæ Tabela de Cachorros Cadastrados üêæ</strong>
        </div>
        <div class="card-body">
            <div class="table-responsive">
                <table class="table table-hover table-bordered align-middle">
                    <thead class="table-light">
                    <tr>
                        <th>ID</th>
                        <th>Nome Cachorro</th>
                        <th>Idade cachorro</th>
                        <th>Dono</th>
                        <th>Sexo do cachorro</th>
                        <th>Ra√ßa</th>
                    </tr>
                    </thead>
                    <tbody>
                    <tr th:each="cachorro : ${cachorros}">
                        <td th:text="${cachorro.id}"></td>
                        <td th:text="${cachorro.nomeCachorro}"></td>
                        <td th:text="${cachorro.idade}"></td>
                        <td th:text="${cachorro.nomeDono}"></td>
                        <td th:text="${cachorro.sexoCachorro}"></td>
                        <td th:text="${cachorro.typeCachorro?.raca}"></td>
                        <td>
                            <div class="d-flex justify-content-end gap-2">
                                <a class="btn btn-sm btn-outline-primary" th:href="@{/edit/{id}(id=${cachorro.id})}">Editar</a>
                                <a class="btn btn-sm btn-outline-danger" th:href="@{/delete/{id}(id=${cachorro.id})}" onclick="confirmDelete(event)">Excluir</a>
                            </div>
                        </td>
                    </tr>
                    </tbody>
                </table>
            </div>
        </div>
        <div class="card-footer d-flex justify-content-between" >
            <!-- CORRE√á√ÉO: use ${cachorros} em vez de ${posts} -->
            <span class="text-muted">Total de cachorros cadastrados: <span th:text="${cachorros != null ? #lists.size(cachorros) : 0}"></span></span>
            <!-- funcionando so falta mandar para o cachorroAdd -->
            <a class="btn btn-sm btn-primary" th:href="@{/add}" style="background-color: #fca547; border-color:#fca547; ">Adicionar</a>
        </div>
    </div>
</div>
</body>
</html>